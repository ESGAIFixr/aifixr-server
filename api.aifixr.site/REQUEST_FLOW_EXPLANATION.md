ã„´ã„´# ğŸ”„ í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ ìš”ì²­ íë¦„ ìƒì„¸ ì„¤ëª…

## ğŸ“ ì „ì²´ ê²½ë¡œ ê°œìš”

```
ì‚¬ìš©ì ì…ë ¥ (ë¸Œë¼ìš°ì €)
    â†“
í”„ë¡ íŠ¸ì—”ë“œ (Next.js - localhost:3000)
    â†“
Discovery Server (Gateway - localhost:8080)
    â†“
Eureka ì„œë¹„ìŠ¤ ê²€ìƒ‰
    â†“
Soccer Service (Spring Boot - ì»¨í…Œì´ë„ˆ ë‚´ë¶€ 8080)
    â†“
í„°ë¯¸ë„ì— System.out.println ì¶œë ¥
```

---

## ğŸ¯ ë‹¨ê³„ë³„ ìƒì„¸ íë¦„

### **1ë‹¨ê³„: ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ ì…ë ¥**

**ìœ„ì¹˜**: `http://localhost:3000`

**ì‚¬ìš©ì í–‰ë™**:
- ê²€ìƒ‰ì°½ì— í‚¤ì›Œë“œ ì…ë ¥ (ì˜ˆ: "ì†í¥ë¯¼")
- "ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­

---

### **2ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ JavaScript ì½”ë“œ ì‹¤í–‰**

**íŒŒì¼**: `frontend/app/page.tsx` (73-75ì¤„)

```typescript
await axios.get("http://localhost:8080/soccer/search", {
  params: { keyword: trimmed },
});
```

**ì‹¤ì œ ìš”ì²­**:
```
GET http://localhost:8080/soccer/search?keyword=ì†í¥ë¯¼
```

**ì¤‘ìš” í¬ì¸íŠ¸**:
- ë¸Œë¼ìš°ì €ì—ì„œ `localhost:8080`ìœ¼ë¡œ ìš”ì²­
- ì´ê²ƒì€ **Discovery Server (API Gateway)**ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ

**ì™œ ì§ì ‘ Soccer ì„œë¹„ìŠ¤(8103)ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë‚˜ìš”?**
- API Gateway íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ì¼ ì§„ì…ì  ì œê³µ
- ë¡œë“œë°¸ëŸ°ì‹±, ë¼ìš°íŒ…, ë³´ì•ˆ, CORS ì²˜ë¦¬ë¥¼ ì¤‘ì•™í™”

---

### **3ë‹¨ê³„: Docker ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ë¡œ ì§„ì…**

**Docker ë„¤íŠ¸ì›Œí¬**: `spring-network`

**í¬íŠ¸ ë§¤í•‘**:
```
localhost:8080 (ì™¸ë¶€) â†’ discovery:8080 (ì»¨í…Œì´ë„ˆ ë‚´ë¶€)
```

**docker-compose.yaml ì„¤ì •**:
```yaml
discovery-server:
  container_name: discovery
  ports:
    - "8080:8080"  # í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ
  networks:
    - spring-network
```

**ì´ ì‹œì ì—ì„œ**:
- ìš”ì²­ì´ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ (`localhost`)ì—ì„œ Docker ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ë¡œ ì „ë‹¬ë¨
- Discovery ì»¨í…Œì´ë„ˆê°€ ìš”ì²­ì„ ë°›ìŒ

---

### **4ë‹¨ê³„: Discovery Server (API Gateway) ë¼ìš°íŒ…**

**íŒŒì¼**: `server/discovery/src/main/resources/application.yaml` (6-12ì¤„)

```yaml
routes:
  - id: soccer-service
    uri: lb://soccer        # Load Balance ë°©ì‹ìœ¼ë¡œ "soccer" ì„œë¹„ìŠ¤ í˜¸ì¶œ
    predicates:
      - Path=/soccer/**     # /soccer/ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ìš”ì²­
    filters:
      - StripPrefix=1       # /soccer ë¶€ë¶„ ì œê±°
```

**ë¼ìš°íŒ… ë¡œì§**:

1. **ìš”ì²­ URL í™•ì¸**: `/soccer/search?keyword=ì†í¥ë¯¼`
2. **Predicate ë§¤ì¹­**: `Path=/soccer/**` ì¡°ê±´ ë§Œì¡± âœ…
3. **StripPrefix=1 ì ìš©**: `/soccer` ë¶€ë¶„ ì œê±°
   - ë³€í™˜ ì „: `/soccer/search?keyword=ì†í¥ë¯¼`
   - ë³€í™˜ í›„: `/search?keyword=ì†í¥ë¯¼`
4. **uri ê²°ì •**: `lb://soccer`
   - `lb://`ëŠ” Load Balancer í”„ë¡œí† ì½œ
   - `soccer`ëŠ” Eurekaì— ë“±ë¡ëœ ì„œë¹„ìŠ¤ ì´ë¦„

---

### **5ë‹¨ê³„: Eureka ì„œë¹„ìŠ¤ ê²€ìƒ‰**

**Eureka Server**: `http://eureka:8761`

**Discovery Serverì˜ ë™ì‘**:

```
1. Eurekaì— "soccer" ì´ë¦„ìœ¼ë¡œ ë“±ë¡ëœ ì„œë¹„ìŠ¤ ê²€ìƒ‰
2. Eureka ì‘ë‹µ:
   - serviceName: SOCCER
   - instanceId: 32037e0fdd0a:soccer
   - hostName: 32037e0fdd0a (ì»¨í…Œì´ë„ˆ ID)
   - ipAddr: 172.18.0.9 (Docker ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ IP)
   - port: 8080
   - status: UP
```

**ì‹¤ì œ í™•ì¸ ê°€ëŠ¥**:
```bash
curl http://localhost:8761/eureka/apps/soccer
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```xml
<application>
  <name>SOCCER</name>
  <instance>
    <hostName>32037e0fdd0a</hostName>
    <ipAddr>172.18.0.9</ipAddr>
    <port enabled="true">8080</port>
    <status>UP</status>
  </instance>
</application>
```

---

### **6ë‹¨ê³„: Soccer Serviceë¡œ ìš”ì²­ ì „ë‹¬**

**Docker ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ í˜¸ì¶œ**:
```
http://172.18.0.9:8080/search?keyword=ì†í¥ë¯¼
```

ë˜ëŠ” ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œ:
```
http://soccer:8080/search?keyword=ì†í¥ë¯¼
```

**docker-compose.yaml ì„¤ì •**:
```yaml
soccer-service:
  container_name: soccer
  ports:
    - "8103:8080"  # ì™¸ë¶€ ì ‘ê·¼ìš© (í…ŒìŠ¤íŠ¸ìš©)
  networks:
    spring-network:
      aliases:
        - soccer.local
```

**ì¤‘ìš”**:
- Discovery ServerëŠ” **ì»¨í…Œì´ë„ˆ ë‚´ë¶€ 8080 í¬íŠ¸**ë¡œ ì§ì ‘ í˜¸ì¶œ
- `localhost:8103`ì€ ì™¸ë¶€ì—ì„œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©

---

### **7ë‹¨ê³„: Spring Boot DispatcherServlet ì²˜ë¦¬**

**ìš”ì²­ ìˆ˜ì‹ **:
```
GET /search?keyword=ì†í¥ë¯¼
```

**Spring MVC ì²˜ë¦¬ ìˆœì„œ**:

1. **DispatcherServletì´ ìš”ì²­ ìˆ˜ì‹ **
   ```
   2025-11-17 08:39:09 GET "/search?keyword=ì†í¥ë¯¼"
   ```

2. **HandlerMappingì´ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤í•‘**
   ```
   RequestMappingHandlerMapping: 
   Mapped to site.aifixr.api.soccer.SearchController#search(String)
   ```

3. **íŒŒë¼ë¯¸í„° ë°”ì¸ë”©**
   ```java
   @RequestParam String keyword  // "ì†í¥ë¯¼" ë°”ì¸ë”©
   ```

---

### **8ë‹¨ê³„: SearchController ì‹¤í–‰**

**íŒŒì¼**: `service/soccer/src/main/java/site/esgaida/api/soccer/SearchController.java`

```java
@GetMapping("/search")
public Messenger search(@RequestParam String keyword) {
    // âœ… ì—¬ê¸°ì„œ System.out.println ì‹¤í–‰!
    System.out.println("========================================");
    System.out.println("ğŸ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²€ìƒ‰ ìš”ì²­ ë°›ìŒ");
    System.out.println("ì…ë ¥ëœ í‚¤ì›Œë“œ: " + keyword);  // â† ì—¬ê¸°!
    System.out.println("========================================");
    
    // ... ë¡œì§ ì²˜ë¦¬ ...
    
    Messenger result = Messenger.builder()
            .code(200)
            .message("ì„ ìˆ˜ ê²€ìƒ‰ ì„±ê³µ: " + keyword)
            .build();
    
    System.out.println("âœ… ì‘ë‹µ ë°˜í™˜: " + result.getMessage());
    return result;
}
```

---

### **9ë‹¨ê³„: í„°ë¯¸ë„ ì¶œë ¥**

**Docker ì»¨í…Œì´ë„ˆì˜ í‘œì¤€ ì¶œë ¥ (stdout)**ìœ¼ë¡œ ì „ë‹¬:

```bash
docker logs -f soccer
```

**ì¶œë ¥ ê²°ê³¼**:
```
========================================
ğŸ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²€ìƒ‰ ìš”ì²­ ë°›ìŒ
ì…ë ¥ëœ í‚¤ì›Œë“œ: ì†í¥ë¯¼
========================================
âœ… ì‘ë‹µ ë°˜í™˜: ì„ ìˆ˜ ê²€ìƒ‰ ì„±ê³µ: ì†í¥ë¯¼
```

**ì™œ í„°ë¯¸ë„ì— ë³´ì´ë‚˜ìš”?**
- DockerëŠ” ì»¨í…Œì´ë„ˆì˜ `System.out`ì„ ìº¡ì²˜
- `docker logs` ëª…ë ¹ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥
- ì‹¤ì‹œê°„ í™•ì¸: `docker logs -f soccer`

---

### **10ë‹¨ê³„: ì‘ë‹µ ë°˜í™˜ (ì—­ìˆœ)**

```
Soccer Service (JSON ì‘ë‹µ ìƒì„±)
    â†“
Discovery Server (ì‘ë‹µ ì „ë‹¬)
    â†“
í”„ë¡ íŠ¸ì—”ë“œ (axiosê°€ ì‘ë‹µ ë°›ìŒ)
    â†“
ë¸Œë¼ìš°ì € í™”ë©´ì— í‘œì‹œ
```

**ì‘ë‹µ JSON**:
```json
{
  "code": 200,
  "message": "ì„ ìˆ˜ ê²€ìƒ‰ ì„±ê³µ: ì†í¥ë¯¼"
}
```

---

## ğŸ” í•µì‹¬ ê°œë… ì„¤ëª…

### **1. ì™œ localhost:8080ì„ ì‚¬ìš©í•˜ë‚˜ìš”?**

**API Gateway íŒ¨í„´**:
- ëª¨ë“  ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë¥¼ ë‹¨ì¼ ì§„ì…ì ìœ¼ë¡œ í†µí•©
- í”„ë¡ íŠ¸ì—”ë“œëŠ” í•˜ë‚˜ì˜ URLë§Œ ì•Œë©´ ë¨
- ë°±ì—”ë“œ ì„œë¹„ìŠ¤ê°€ ì¶”ê°€/ë³€ê²½ë˜ì–´ë„ í”„ë¡ íŠ¸ëŠ” ìˆ˜ì • ë¶ˆí•„ìš”

**ì¥ì **:
```
âŒ í”„ë¡ íŠ¸ê°€ ê° ì„œë¹„ìŠ¤ ì£¼ì†Œë¥¼ ëª¨ë‘ ì•Œì•„ì•¼ í•¨:
   - Soccer: localhost:8103
   - User: localhost:8104
   - Common: localhost:8101

âœ… í•˜ë‚˜ì˜ Gatewayë§Œ ì•Œë©´ ë¨:
   - Gateway: localhost:8080
   - /soccer/** â†’ Soccer Service
   - /user/** â†’ User Service
   - /common/** â†’ Common Service
```

### **2. StripPrefix=1ì˜ ì—­í• **

**ë³€í™˜ ê³¼ì •**:
```
í”„ë¡ íŠ¸ì—”ë“œ ìš”ì²­: /soccer/search?keyword=test
                    â†“ StripPrefix=1 ì ìš©
Soccer Service ìˆ˜ì‹ : /search?keyword=test
```

**ì™œ í•„ìš”í•œê°€?**
- GatewayëŠ” `/soccer/**` íŒ¨í„´ìœ¼ë¡œ ë¼ìš°íŒ…
- Soccer ServiceëŠ” `/soccer` ì ‘ë‘ì‚¬ë¥¼ ëª¨ë¦„
- StripPrefixë¡œ `/soccer` ë¶€ë¶„ ì œê±°í•˜ì—¬ ì „ë‹¬

### **3. lb://soccerì˜ ì˜ë¯¸**

**Load Balancer í”„ë¡œí† ì½œ**:
```
lb://soccer
â†‘     â†‘
|     â””â”€ Eurekaì— ë“±ë¡ëœ ì„œë¹„ìŠ¤ ì´ë¦„
â””â”€ Load Balancer í”„ë¡œí† ì½œ
```

**ë™ì‘ ë°©ì‹**:
1. Eurekaì—ì„œ "soccer" ì´ë¦„ì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ ì¡°íšŒ
2. ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆìœ¼ë©´ ë¡œë“œë°¸ëŸ°ì‹± (Round Robin)
3. ì„ íƒëœ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìš”ì²­ ì „ë‹¬

**í˜„ì¬ êµ¬ì„±**:
- Soccer ì¸ìŠ¤í„´ìŠ¤: 1ê°œ (soccer:8080)
- ì¶”í›„ ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥: soccer-1, soccer-2, soccer-3 ë“±

### **4. Docker ë„¤íŠ¸ì›Œí¬**

**spring-network ë‚´ë¶€ í†µì‹ **:
```
ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œ í†µì‹ :
- http://eureka:8761
- http://discovery:8080
- http://soccer:8080

Docker DNSê°€ ìë™ìœ¼ë¡œ IP í•´ì„:
- eureka â†’ 172.18.0.5
- discovery â†’ 172.18.0.7
- soccer â†’ 172.18.0.9
```

**ì™¸ë¶€ ì ‘ê·¼ vs ë‚´ë¶€ ì ‘ê·¼**:
```
ì™¸ë¶€ (í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ):
- localhost:8080 â†’ discovery
- localhost:8103 â†’ soccer

ë‚´ë¶€ (ì»¨í…Œì´ë„ˆ ê°„):
- discovery:8080
- soccer:8080
```

---

## ğŸ¬ ì‹¤ì œ íë¦„ ì˜ˆì‹œ

### **ì¼€ì´ìŠ¤: "ì†í¥ë¯¼" ê²€ìƒ‰**

```
1. ì‚¬ìš©ì ì…ë ¥
   ë¸Œë¼ìš°ì € ê²€ìƒ‰ì°½: "ì†í¥ë¯¼" ì…ë ¥ â†’ ë³´ë‚´ê¸° í´ë¦­

2. í”„ë¡ íŠ¸ì—”ë“œ (localhost:3000)
   axios.get("http://localhost:8080/soccer/search?keyword=ì†í¥ë¯¼")

3. Docker í¬íŠ¸ ë§¤í•‘
   localhost:8080 â†’ discovery:8080 (ì»¨í…Œì´ë„ˆ)

4. Discovery Server
   ìš”ì²­ URL: /soccer/search?keyword=ì†í¥ë¯¼
   ë¼ìš°íŒ… ë£°: /soccer/** â†’ lb://soccer
   StripPrefix: /search?keyword=ì†í¥ë¯¼

5. Eureka ì¡°íšŒ
   ì„œë¹„ìŠ¤ ê²€ìƒ‰: "soccer"
   ê²°ê³¼: soccer:8080 (172.18.0.9:8080)

6. Soccer Service í˜¸ì¶œ
   HTTP GET http://soccer:8080/search?keyword=ì†í¥ë¯¼

7. Spring Boot ì²˜ë¦¬
   DispatcherServlet â†’ SearchController.search("ì†í¥ë¯¼")

8. í„°ë¯¸ë„ ì¶œë ¥ (System.out.println)
   ========================================
   ğŸ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²€ìƒ‰ ìš”ì²­ ë°›ìŒ
   ì…ë ¥ëœ í‚¤ì›Œë“œ: ì†í¥ë¯¼
   ========================================

9. ì‘ë‹µ ìƒì„±
   { "code": 200, "message": "ì„ ìˆ˜ ê²€ìƒ‰ ì„±ê³µ: ì†í¥ë¯¼" }

10. ì‘ë‹µ ì „ë‹¬ (ì—­ìˆœ)
    Soccer â†’ Discovery â†’ Frontend â†’ Browser
```

---

## ğŸ› ï¸ ë””ë²„ê¹… íŒ

### **ê° ë‹¨ê³„ë³„ í™•ì¸ ë°©ë²•**

#### **1. í”„ë¡ íŠ¸ì—”ë“œ ìš”ì²­ í™•ì¸**
```
ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ (F12)
â†’ Network íƒ­
â†’ search ìš”ì²­ í™•ì¸
â†’ Request URL: http://localhost:8080/soccer/search?keyword=...
```

#### **2. Discovery Server ë¡œê·¸**
```bash
docker logs -f discovery | grep search
```

#### **3. Eureka ë“±ë¡ í™•ì¸**
```bash
curl http://localhost:8761/eureka/apps/soccer
```

#### **4. Soccer Service ì§ì ‘ í˜¸ì¶œ**
```bash
# Gateway ê±°ì¹˜ì§€ ì•Šê³  ì§ì ‘ í˜¸ì¶œ (í…ŒìŠ¤íŠ¸ìš©)
curl "http://localhost:8103/search?keyword=test"
```

#### **5. í„°ë¯¸ë„ ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸**
```bash
docker logs -f soccer
```

#### **6. ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€ í†µì‹  í™•ì¸**
```bash
# Discovery ì»¨í…Œì´ë„ˆì—ì„œ Soccer í˜¸ì¶œ í…ŒìŠ¤íŠ¸
docker exec -it discovery curl http://soccer:8080/search?keyword=test
```

---

## ğŸ“Š ë„¤íŠ¸ì›Œí¬ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í˜¸ìŠ¤íŠ¸ ë¨¸ì‹  (Windows)                      â”‚
â”‚                                                                 â”‚
â”‚  ë¸Œë¼ìš°ì €                                                         â”‚
â”‚  â””â”€ http://localhost:3000                                      â”‚
â”‚       â†“                                                         â”‚
â”‚  í”„ë¡ íŠ¸ì—”ë“œ (Next.js)                                            â”‚
â”‚  â””â”€ axios.get("http://localhost:8080/soccer/search")          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTP Request
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Docker Network: spring-network                     â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Discovery Server (Gateway)                              â”‚  â”‚
â”‚  â”‚  - Container: discovery                                  â”‚  â”‚
â”‚  â”‚  - Internal: discovery:8080                             â”‚  â”‚
â”‚  â”‚  - External: localhost:8080                             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Routes:                                                 â”‚  â”‚
â”‚  â”‚  â””â”€ /soccer/** â†’ lb://soccer (StripPrefix=1)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                                       â”‚
â”‚                         â†“ Eureka ì¡°íšŒ                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Eureka Server                                           â”‚  â”‚
â”‚  â”‚  - Container: eureka                                     â”‚  â”‚
â”‚  â”‚  - Internal: eureka:8761                                â”‚  â”‚
â”‚  â”‚  - Services: [soccer, user, common, ...]               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                                       â”‚
â”‚                         â†“ soccer:8080 ì°¾ê¸°                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Soccer Service                                          â”‚  â”‚
â”‚  â”‚  - Container: soccer                                     â”‚  â”‚
â”‚  â”‚  - Internal: soccer:8080                                â”‚  â”‚
â”‚  â”‚  - External: localhost:8103                             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  SearchController                                        â”‚  â”‚
â”‚  â”‚  â””â”€ @GetMapping("/search")                              â”‚  â”‚
â”‚  â”‚     â””â”€ System.out.println("í‚¤ì›Œë“œ: " + keyword)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                                       â”‚
â”‚                         â†“ stdout                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Docker Logs                                             â”‚  â”‚
â”‚  â”‚  $ docker logs -f soccer                                 â”‚  â”‚
â”‚  â”‚  ========================================                â”‚  â”‚
â”‚  â”‚  ğŸ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²€ìƒ‰ ìš”ì²­ ë°›ìŒ                          â”‚  â”‚
â”‚  â”‚  ì…ë ¥ëœ í‚¤ì›Œë“œ: ì†í¥ë¯¼                                     â”‚  â”‚
â”‚  â”‚  ========================================                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ì¶”ê°€ í•™ìŠµ í¬ì¸íŠ¸

### **1. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ íŒ¨í„´**
- **API Gateway**: ë‹¨ì¼ ì§„ì…ì 
- **Service Discovery**: ë™ì  ì„œë¹„ìŠ¤ ê²€ìƒ‰
- **Load Balancing**: ë¶€í•˜ ë¶„ì‚°

### **2. Spring Cloud ì»´í¬ë„ŒíŠ¸**
- **Spring Cloud Gateway**: ë¦¬ì•¡í‹°ë¸Œ API Gateway
- **Eureka Client**: ì„œë¹„ìŠ¤ ë“±ë¡ ë° ê²€ìƒ‰
- **Load Balancer**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¡œë“œë°¸ëŸ°ì‹±

### **3. Docker ë„¤íŠ¸ì›Œí‚¹**
- **Bridge Network**: ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ 
- **DNS Resolution**: ì»¨í…Œì´ë„ˆ ì´ë¦„ìœ¼ë¡œ í†µì‹ 
- **Port Mapping**: ì™¸ë¶€ ì ‘ê·¼ ì œê³µ

### **4. ì™œ ì´ëŸ° ë³µì¡í•œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?**

**í™•ì¥ì„±**:
```
í˜„ì¬: Soccer Service 1ê°œ
ë¯¸ë˜: Soccer Service 10ê°œ (ë¡œë“œë°¸ëŸ°ì‹±)
```

**ìœ ì—°ì„±**:
```
ì„œë¹„ìŠ¤ ì¶”ê°€: /player/** â†’ Player Service
í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì •: ë¶ˆí•„ìš” (Gatewayê°€ ì²˜ë¦¬)
```

**ë³´ì•ˆ**:
```
ëª¨ë“  ì¸ì¦/ê¶Œí•œ ê²€ì‚¬ë¥¼ Gatewayì—ì„œ ì¤‘ì•™í™”
ê° ì„œë¹„ìŠ¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘
```

**ëª¨ë‹ˆí„°ë§**:
```
Gatewayì—ì„œ ëª¨ë“  íŠ¸ë˜í”½ ë¡œê¹…
ê° ì„œë¹„ìŠ¤ë³„ ì„±ëŠ¥ ì¸¡ì •
```

---

## âœ… ìš”ì•½

í”„ë¡ íŠ¸ì—”ë“œì—ì„œ "ì†í¥ë¯¼"ì„ ì…ë ¥í•˜ë©´:

1. **í”„ë¡ íŠ¸**: `localhost:8080/soccer/search?keyword=ì†í¥ë¯¼`
2. **Gateway**: `/soccer` ì œê±° â†’ `lb://soccer`ë¡œ ë¼ìš°íŒ…
3. **Eureka**: `soccer` ì„œë¹„ìŠ¤ IP ì°¾ê¸° â†’ `soccer:8080`
4. **Soccer**: `/search` ì—”ë“œí¬ì¸íŠ¸ ì‹¤í–‰
5. **í„°ë¯¸ë„**: `System.out.println("ì…ë ¥ëœ í‚¤ì›Œë“œ: ì†í¥ë¯¼")`
6. **ì‘ë‹µ**: JSON ë°˜í™˜ â†’ Gateway â†’ í”„ë¡ íŠ¸ â†’ ë¸Œë¼ìš°ì €

**í•µì‹¬**: ëª¨ë“  ìš”ì²­ì€ Gatewayë¥¼ í†µí•´ Eurekaë¡œ ì„œë¹„ìŠ¤ë¥¼ ì°¾ì•„ ë¼ìš°íŒ…ë©ë‹ˆë‹¤!


